  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-09 07:25:06.978454', '2024-09-09 07:25:06.978460') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20240909071639)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240909071639') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateAppointments (20240909071803)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240909071803') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePatients (20240909071859)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240909071859') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateXrays (20240909072209)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "xrays" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240909072209') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "doctor"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 07:43:45.739460"], ["updated_at", "2024-09-09 07:43:45.739460"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (19.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 07:43:46.022820"], ["updated_at", "2024-09-09 07:43:46.022820"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (16.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (16.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateXrays (20240909072209)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "xrays"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20240909072209'[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateXrays (20240909072209)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "xrays" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240909072209') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreatePatients (20240909075933)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePatients (20240909075933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePatients (20240909075933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePatients (20240909075933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "patients"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePatients (20240909075933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240909075933') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to DropPatientsTable (20240909080055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (20.9ms)[0m  [1m[35mDROP TABLE "patients"[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240909080055') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePatients (20240909081019)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240909081019') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (17.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.9ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:11:45.672215"], ["updated_at", "2024-09-09 08:11:45.672215"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (2.1ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:11:45.679053"], ["updated_at", "2024-09-09 08:11:45.679053"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (20.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.7ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:16:48.396629"], ["updated_at", "2024-09-09 08:16:48.396629"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.3ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:16:48.403174"], ["updated_at", "2024-09-09 08:16:48.403174"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.7ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:17:02.523308"], ["updated_at", "2024-09-09 08:17:02.523308"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.7ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:17:02.530497"], ["updated_at", "2024-09-09 08:17:02.530497"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "appointments"[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "patients"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "xrays"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "xrays" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240909081019)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240909072209),
(20240909071803),
(20240909071639);[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-09 08:19:38.102665', '2024-09-09 08:19:38.102990') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '912281a3e20c6557282ff71007d93d0428d248c3', '2024-09-09 08:19:38.107931', '2024-09-09 08:19:38.107937') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "appointments"[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "patients"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "xrays"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "xrays" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240909081019)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240909072209),
(20240909071803),
(20240909071639);[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-09 08:19:38.147139', '2024-09-09 08:19:38.147144') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-09-09 08:19:38.150111' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '912281a3e20c6557282ff71007d93d0428d248c3', '2024-09-09 08:19:38.152663', '2024-09-09 08:19:38.152668') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "doctor"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 08:19:38.434292"], ["updated_at", "2024-09-09 08:19:38.434292"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 08:19:38.736050"], ["updated_at", "2024-09-09 08:19:38.736050"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (2.9ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:19:38.793692"], ["updated_at", "2024-09-09 08:19:38.793692"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (2.1ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:19:38.804006"], ["updated_at", "2024-09-09 08:19:38.804006"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.2ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:20:16.095868"], ["updated_at", "2024-09-09 08:20:16.095868"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.7ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:20:16.102183"], ["updated_at", "2024-09-09 08:20:16.102183"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (18.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.7ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:25:30.690727"], ["updated_at", "2024-09-09 08:25:30.690727"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.4ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:25:30.697302"], ["updated_at", "2024-09-09 08:25:30.697302"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "appointments"[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "patients"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "xrays"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "xrays" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240909081019)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240909072209),
(20240909071803),
(20240909071639);[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-09 08:25:49.717562', '2024-09-09 08:25:49.717569') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '912281a3e20c6557282ff71007d93d0428d248c3', '2024-09-09 08:25:49.723073', '2024-09-09 08:25:49.723078') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "appointments"[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "patients"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "xrays"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "xrays" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240909081019)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240909072209),
(20240909071803),
(20240909071639);[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-09 08:25:49.759949', '2024-09-09 08:25:49.759954') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-09-09 08:25:49.762785' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '912281a3e20c6557282ff71007d93d0428d248c3', '2024-09-09 08:25:49.765178', '2024-09-09 08:25:49.765182') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "doctor"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 08:25:50.047500"], ["updated_at", "2024-09-09 08:25:50.047500"]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 08:25:50.299745"], ["updated_at", "2024-09-09 08:25:50.299745"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.6ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:25:50.337327"], ["updated_at", "2024-09-09 08:25:50.337327"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.6ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:25:50.343410"], ["updated_at", "2024-09-09 08:25:50.343410"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (2.1ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:25:52.857120"], ["updated_at", "2024-09-09 08:25:52.857120"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (2.1ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:25:52.869479"], ["updated_at", "2024-09-09 08:25:52.869479"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "appointments"[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "patients"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "xrays"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "xrays" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240909081019)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240909072209),
(20240909071803),
(20240909071639);[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-09 08:30:50.897076', '2024-09-09 08:30:50.897083') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '912281a3e20c6557282ff71007d93d0428d248c3', '2024-09-09 08:30:50.902482', '2024-09-09 08:30:50.902487') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "appointments"[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "patients"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "xrays"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "xrays" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240909081019)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240909072209),
(20240909071803),
(20240909071639);[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-09 08:30:50.958330', '2024-09-09 08:30:50.958336') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-09-09 08:30:50.961280' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '912281a3e20c6557282ff71007d93d0428d248c3', '2024-09-09 08:30:50.964037', '2024-09-09 08:30:50.964043') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "doctor"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 08:30:51.257558"], ["updated_at", "2024-09-09 08:30:51.257558"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 08:30:51.504959"], ["updated_at", "2024-09-09 08:30:51.504959"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.7ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:30:51.535932"], ["updated_at", "2024-09-09 08:30:51.535932"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.5ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:30:51.542361"], ["updated_at", "2024-09-09 08:30:51.542361"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (21.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (2.0ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:31:03.728794"], ["updated_at", "2024-09-09 08:31:03.728794"]]
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (2.1ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:31:03.741912"], ["updated_at", "2024-09-09 08:31:03.741912"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.8ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:33:31.753034"], ["updated_at", "2024-09-09 08:33:31.753034"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.4ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:33:31.759515"], ["updated_at", "2024-09-09 08:33:31.759515"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.7ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:34:41.785295"], ["updated_at", "2024-09-09 08:34:41.785295"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.4ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:34:41.792156"], ["updated_at", "2024-09-09 08:34:41.792156"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "appointments"[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "patients"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "xrays"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "xrays" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240909081019)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240909072209),
(20240909071803),
(20240909071639);[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-09 08:35:10.894145', '2024-09-09 08:35:10.894160') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '912281a3e20c6557282ff71007d93d0428d248c3', '2024-09-09 08:35:10.918935', '2024-09-09 08:35:10.918943') RETURNING "key"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "appointments"[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "appointments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "patients"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar, "apellido" varchar, "fecha_nacimiento" date, "tipo_documento" varchar, "numero_documento" varchar, "direccion" varchar, "ciudad" varchar, "telefono" varchar, "estado_civil" varchar, "sexo" varchar, "raza" varchar, "tipo_sangre" varchar, "ocupacion" varchar, "eps" varchar, "alergias" varchar, "cirugias" varchar, "emergency_nombre" varchar, "emergency_direccion" varchar, "emergency_ciudad" varchar, "emergency_telefono" varchar, "emergency_relacion" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar NOT NULL, "password_digest" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "xrays"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "xrays" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240909081019)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240909072209),
(20240909071803),
(20240909071639);[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-09-09 08:35:10.976041', '2024-09-09 08:35:10.976048') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-09-09 08:35:10.982762' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '912281a3e20c6557282ff71007d93d0428d248c3', '2024-09-09 08:35:10.987891', '2024-09-09 08:35:10.987899') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "doctor"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 08:35:11.300548"], ["updated_at", "2024-09-09 08:35:11.300548"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (3.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 08:35:11.583397"], ["updated_at", "2024-09-09 08:35:11.583397"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (2.0ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:35:11.632586"], ["updated_at", "2024-09-09 08:35:11.632586"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (1.7ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:35:11.639850"], ["updated_at", "2024-09-09 08:35:11.639850"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (0.6ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Juan"], ["apellido", "P√©rez"], ["fecha_nacimiento", "1985-06-15"], ["tipo_documento", "C√©dula Ciudadan√≠a"], ["numero_documento", "12345678"], ["direccion", "Carrera 1 # 10-20"], ["ciudad", "Bogot√°"], ["telefono", "555-1234"], ["estado_civil", "Soltero/a"], ["sexo", "Masculino"], ["raza", "Mestizo"], ["tipo_sangre", "O+"], ["ocupacion", "Ingeniero"], ["eps", "EPS Salud"], ["alergias", "Ninguna"], ["cirugias", "Ninguna"], ["emergency_nombre", "Ana P√©rez"], ["emergency_direccion", "Carrera 2 # 15-30"], ["emergency_ciudad", "Bogot√°"], ["emergency_telefono", "555-5678"], ["emergency_relacion", "Hermana"], ["created_at", "2024-09-09 08:35:51.323676"], ["updated_at", "2024-09-09 08:35:51.323676"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Create (0.8ms)[0m  [1m[32mINSERT INTO "patients" ("nombre", "apellido", "fecha_nacimiento", "tipo_documento", "numero_documento", "direccion", "ciudad", "telefono", "estado_civil", "sexo", "raza", "tipo_sangre", "ocupacion", "eps", "alergias", "cirugias", "emergency_nombre", "emergency_direccion", "emergency_ciudad", "emergency_telefono", "emergency_relacion", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["nombre", "Mar√≠a"], ["apellido", "G√≥mez"], ["fecha_nacimiento", "1990-11-22"], ["tipo_documento", "Tarjeta De Identidad"], ["numero_documento", "87654321"], ["direccion", "Avenida 5 # 20-40"], ["ciudad", "Medell√≠n"], ["telefono", "555-6789"], ["estado_civil", "Casado/a"], ["sexo", "Femenino"], ["raza", "Blanco"], ["tipo_sangre", "A+"], ["ocupacion", "Docente"], ["eps", "EPS Salud"], ["alergias", "Polen"], ["cirugias", "Apendicitis"], ["emergency_nombre", "Pedro G√≥mez"], ["emergency_direccion", "Avenida 6 # 25-50"], ["emergency_ciudad", "Medell√≠n"], ["emergency_telefono", "555-9876"], ["emergency_relacion", "C√≥nyuge"], ["created_at", "2024-09-09 08:35:51.341605"], ["updated_at", "2024-09-09 08:35:51.341605"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Destroy (0.9ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Destroy (0.5ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "doctor"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 08:40:25.950658"], ["updated_at", "2024-09-09 08:40:25.950658"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "admin"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["username", "admin"], ["password_digest", "[FILTERED]"], ["created_at", "2024-09-09 08:40:26.194828"], ["updated_at", "2024-09-09 08:40:26.194828"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
Started GET "/patients" for ::1 at 2024-09-09 03:57:36 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PatientsController#index as */*
  Parameters: {"username"=>"Alan", "password"=>"[FILTERED]", "patient"=>{}}
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients"[0m
  ‚Ü≥ app/controllers/patients_controller.rb:7:in `index'
Completed 200 OK in 131ms (Views: 69.8ms | ActiveRecord: 6.2ms | Allocations: 20573)


Started DELETE "/patients/3" for ::1 at 2024-09-09 04:00:36 -0500
Processing by PatientsController#destroy as */*
  Parameters: {"username"=>"Alan", "password"=>"[FILTERED]", "id"=>"3", "patient"=>{}}
  [1m[36mPatient Load (1.5ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/patients_controller.rb:32:in `destroy'
  [1m[36mPatient Destroy (1.9ms)[0m  [1m[31mDELETE FROM "patients" WHERE "patients"."id" = ?[0m  [["id", 3]]
  ‚Ü≥ app/controllers/patients_controller.rb:32:in `destroy'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/patients_controller.rb:32:in `destroy'
Completed 204 No Content in 42ms (ActiveRecord: 7.5ms | Allocations: 4788)


Started DELETE "/patients" for ::1 at 2024-09-09 04:00:50 -0500
  
ActionController::RoutingError (No route matches [DELETE] "/patients"):
  
Started GET "/patients" for ::1 at 2024-09-09 04:00:58 -0500
Processing by PatientsController#index as */*
  Parameters: {"username"=>"Alan", "password"=>"[FILTERED]", "patient"=>{}}
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients"[0m
  ‚Ü≥ app/controllers/patients_controller.rb:7:in `index'
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.3ms | Allocations: 1178)


Started DELETE "/patients/4" for ::1 at 2024-09-09 04:01:18 -0500
Processing by PatientsController#destroy as */*
  Parameters: {"username"=>"Alan", "password"=>"[FILTERED]", "id"=>"4", "patient"=>{}}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ‚Ü≥ app/controllers/patients_controller.rb:32:in `destroy'
  [1m[36mPatient Destroy (2.3ms)[0m  [1m[31mDELETE FROM "patients" WHERE "patients"."id" = ?[0m  [["id", 4]]
  ‚Ü≥ app/controllers/patients_controller.rb:32:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  ‚Ü≥ app/controllers/patients_controller.rb:32:in `destroy'
Completed 204 No Content in 13ms (ActiveRecord: 2.8ms | Allocations: 2153)


Started GET "/patients" for ::1 at 2024-09-09 04:01:26 -0500
Processing by PatientsController#index as */*
  Parameters: {"username"=>"Alan", "password"=>"[FILTERED]", "patient"=>{}}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients"[0m
  ‚Ü≥ app/controllers/patients_controller.rb:7:in `index'
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.1ms | Allocations: 987)


Started POST "/login" for ::1 at 2024-09-09 04:03:33 -0500
  
ArgumentError (Before process_action callback :verify_authenticity_token has not been defined):
  
app/controllers/auth_controller.rb:2:in `<class:AuthController>'
app/controllers/auth_controller.rb:1:in `<main>'
Started POST "/login" for ::1 at 2024-09-09 04:07:59 -0500
Processing by AuthController#login as */*
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "auth"=>{"username"=>"doctor", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:5:in `login'
Completed 500 Internal Server Error in 342ms (ActiveRecord: 3.9ms | Allocations: 9589)


  
NameError (uninitialized constant AuthController::JWT

      JWT.encode(payload, 'your_secret_key') # Reemplaza 'your_secret_key' con tu clave secreta
      ^^^):
  
app/controllers/auth_controller.rb:17:in `encode_token'
app/controllers/auth_controller.rb:7:in `login'
Started POST "/login" for ::1 at 2024-09-09 04:10:50 -0500
Processing by AuthController#login as */*
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "auth"=>{"username"=>"doctor", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:5:in `login'
Completed 500 Internal Server Error in 267ms (ActiveRecord: 0.2ms | Allocations: 2663)


  
NameError (uninitialized constant AuthController::JWT

      JWT.encode(payload, 'your_secret_key') # Reemplaza 'your_secret_key' con tu clave secreta
      ^^^):
  
app/controllers/auth_controller.rb:17:in `encode_token'
app/controllers/auth_controller.rb:7:in `login'
Started POST "/login" for ::1 at 2024-09-09 04:16:32 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthController#login as */*
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "auth"=>{"username"=>"doctor", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:8:in `login'
Completed 200 OK in 339ms (Views: 0.8ms | ActiveRecord: 3.5ms | Allocations: 15022)


[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: d1e5-181-78-21-163.ngrok-free.app, d1e5-181-78-21-163.ngrok-free.app
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: d1e5-181-78-21-163.ngrok-free.app, d1e5-181-78-21-163.ngrok-free.app
Started GET "/patients/$documento" for ::1 at 2024-09-09 04:29:42 -0500
Processing by PatientsController#show as */*
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "id"=>"$documento", "patient"=>{}}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 12ms (Views: 0.9ms | ActiveRecord: 4.2ms | Allocations: 2195)


Started GET "/patients/$documentos" for ::1 at 2024-09-09 04:29:57 -0500
Processing by PatientsController#show as */*
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "id"=>"$documentos", "patient"=>{}}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 7ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 640)


Started GET "/patients/$numero_documento" for ::1 at 2024-09-09 04:30:54 -0500
Processing by PatientsController#show as */*
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "id"=>"$numero_documento", "patient"=>{}}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 5ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 628)


Started GET "/patients/numero_documento" for ::1 at 2024-09-09 04:31:03 -0500
Processing by PatientsController#show as */*
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "id"=>"numero_documento", "patient"=>{}}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 4ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 614)


[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: d1e5-181-78-21-163.ngrok-free.app, d1e5-181-78-21-163.ngrok-free.app
Started GET "/patients" for 181.78.21.163 at 2024-09-09 04:37:12 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PatientsController#index as */*
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "patient"=>{}}
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients"[0m
  ‚Ü≥ app/controllers/patients_controller.rb:7:in `index'
Completed 200 OK in 59ms (Views: 41.1ms | ActiveRecord: 3.4ms | Allocations: 18050)


Started GET "/patients" for 181.78.21.163 at 2024-09-09 04:37:30 -0500
Processing by PatientsController#index as */*
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "patient"=>{}}
  [1m[36mPatient Load (5.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients"[0m
  ‚Ü≥ app/controllers/patients_controller.rb:7:in `index'
Completed 200 OK in 17ms (Views: 11.3ms | ActiveRecord: 5.2ms | Allocations: 1113)


Started POST "/login" for 191.95.23.64 at 2024-09-09 04:40:45 -0500
Processing by AuthController#login as HTML
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "auth"=>{"username"=>"doctor", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:8:in `login'
Completed 200 OK in 272ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 6445)


Started GET "/api/appointments?query=" for 191.95.23.64 at 2024-09-09 04:40:47 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/appointments"):
  
Started GET "/patients/q" for 191.95.23.64 at 2024-09-09 04:41:11 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"q"}
  [1m[36mPatient Load (0.6ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 1097)


Started GET "/patients/q0" for 191.95.23.64 at 2024-09-09 04:41:12 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"q0"}
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 629)


Started GET "/patients/q" for 191.95.23.64 at 2024-09-09 04:41:13 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"q"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 617)


Started GET "/patients/1" for 191.95.23.64 at 2024-09-09 04:41:13 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 774)


Started GET "/patients/10" for 191.95.23.64 at 2024-09-09 04:41:14 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 614)


Started GET "/patients/104" for 191.95.23.64 at 2024-09-09 04:41:16 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"104"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 104], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 614)


Started GET "/patients/1043" for 191.95.23.64 at 2024-09-09 04:41:16 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"1043"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 1043], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 616)


Started GET "/patients/104" for 191.95.23.64 at 2024-09-09 04:41:18 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"104"}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 104], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 615)


Started GET "/patients/10" for 191.95.23.64 at 2024-09-09 04:41:18 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 613)


Started GET "/patients/1" for 191.95.23.64 at 2024-09-09 04:41:20 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Completed 200 OK in 4ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 724)


Started GET "/patients/12" for 191.95.23.64 at 2024-09-09 04:41:23 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 5ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 613)


Started GET "/patients/1" for 191.95.23.64 at 2024-09-09 04:41:25 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 724)


Started GET "/patients/11" for 191.95.23.64 at 2024-09-09 04:41:26 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 613)


Started GET "/patients/1" for 191.95.23.64 at 2024-09-09 04:41:28 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.1ms | Allocations: 724)


Started GET "/historial/1" for 191.95.23.64 at 2024-09-09 04:41:33 -0500
  
ActionController::RoutingError (No route matches [GET] "/historial/1"):
  
Started POST "/login" for 191.95.23.64 at 2024-09-09 04:41:51 -0500
Processing by AuthController#login as HTML
  Parameters: {"username"=>"Alan", "password"=>"[FILTERED]", "auth"=>{"username"=>"Alan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "Alan"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:8:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.6ms | ActiveRecord: 0.1ms | Allocations: 590)


Started POST "/login" for 191.95.23.64 at 2024-09-09 04:42:26 -0500
Processing by AuthController#login as HTML
  Parameters: {"username"=>"alan", "password"=>"[FILTERED]", "auth"=>{"username"=>"alan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "alan"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:8:in `login'
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 580)


Started POST "/login" for 191.95.23.64 at 2024-09-09 04:42:59 -0500
Processing by AuthController#login as HTML
  Parameters: {"username"=>"alan", "password"=>"[FILTERED]", "auth"=>{"username"=>"alan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "alan"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:8:in `login'
Completed 401 Unauthorized in 3ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 580)


Started POST "/login" for 191.95.23.64 at 2024-09-09 04:43:28 -0500
Processing by AuthController#login as HTML
  Parameters: {"username"=>"alan", "password"=>"[FILTERED]", "auth"=>{"username"=>"alan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "alan"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:8:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 583)


Started POST "/login" for 191.95.23.64 at 2024-09-09 04:44:21 -0500
Processing by AuthController#login as HTML
  Parameters: {"username"=>"alan", "password"=>"[FILTERED]", "auth"=>{"username"=>"alan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "alan"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:8:in `login'
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 580)


Started POST "/login" for 191.95.23.64 at 2024-09-09 04:44:31 -0500
Processing by AuthController#login as HTML
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "auth"=>{"username"=>"doctor", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:8:in `login'
Completed 200 OK in 241ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 662)


Started GET "/api/appointments?query=" for 191.95.23.64 at 2024-09-09 04:44:33 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/appointments"):
  
Started GET "/api/appointments?query=q" for 191.95.23.64 at 2024-09-09 04:44:44 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/appointments"):
  
Started GET "/api/appointments?query=" for 191.95.23.64 at 2024-09-09 04:44:45 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/appointments"):
  
Started GET "/api/appointments?query=1" for 191.95.23.64 at 2024-09-09 04:44:46 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/appointments"):
  
Started GET "/api/appointments?query=" for 191.95.23.64 at 2024-09-09 04:44:48 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/appointments"):
  
Started GET "/patients/q" for 191.95.23.64 at 2024-09-09 04:45:07 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"q"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 613)


Started GET "/patients/q" for 191.95.23.64 at 2024-09-09 04:45:09 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"q"}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 4ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 613)


Started GET "/patients/1" for 191.95.23.64 at 2024-09-09 04:45:11 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 724)


Started GET "/historial/1" for 191.95.23.64 at 2024-09-09 04:45:14 -0500
  
ActionController::RoutingError (No route matches [GET] "/historial/1"):
  
Started GET "/pacientes" for 191.95.23.64 at 2024-09-09 04:46:26 -0500
  
ActionController::RoutingError (No route matches [GET] "/pacientes"):
  
Started GET "/patients" for 191.95.23.64 at 2024-09-09 04:46:55 -0500
Processing by PatientsController#index as HTML
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients"[0m
  ‚Ü≥ app/controllers/patients_controller.rb:7:in `index'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms | Allocations: 1004)


Started GET "/patients" for 191.95.23.64 at 2024-09-09 04:47:28 -0500
Processing by PatientsController#index as HTML
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients"[0m
  ‚Ü≥ app/controllers/patients_controller.rb:7:in `index'
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms | Allocations: 999)


Started GET "/patients/q" for 191.95.23.64 at 2024-09-09 04:48:24 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"q"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 613)


Started GET "/patients/1" for 191.95.23.64 at 2024-09-09 04:48:25 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 724)


Started GET "/historial/1" for 191.95.23.64 at 2024-09-09 04:48:31 -0500
  
ActionController::RoutingError (No route matches [GET] "/historial/1"):
  
Started GET "/" for 2a03:2880:20ff:d::face:b00c at 2024-09-09 08:20:21 -0500
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as */*
  Rendering /home/howard/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/howard/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.1.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 4.2ms | Allocations: 386)
Completed 200 OK in 72ms (Views: 21.6ms | ActiveRecord: 0.0ms | Allocations: 4494)


  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateRetratamientos (20240909134602)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "retratamientos" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240909134602') RETURNING "version"[0m
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "//login" for 191.95.23.42 at 2024-09-09 09:07:54 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AuthController#login as HTML
  Parameters: {"username"=>"doctor", "password"=>"[FILTERED]", "auth"=>{"username"=>"doctor", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = ? LIMIT ?[0m  [["username", "doctor"], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/auth_controller.rb:8:in `login'
Completed 200 OK in 335ms (Views: 0.4ms | ActiveRecord: 4.0ms | Allocations: 15019)


Started GET "/api/appointments?query=" for 191.95.23.42 at 2024-09-09 09:07:57 -0500
  
ActionController::RoutingError (No route matches [GET] "/api/appointments"):
  
Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:08:49 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"12345678"}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 12345678], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 15ms (Views: 0.3ms | ActiveRecord: 0.6ms | Allocations: 4016)


Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:09:13 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"12345678"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 12345678], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 624)


Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:09:32 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"12345678"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 12345678], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 625)


Started GET "/patients" for 191.95.23.42 at 2024-09-09 09:17:19 -0500
Processing by PatientsController#index as HTML
  [1m[36mPatient Load (1.6ms)[0m  [1m[34mSELECT "patients".* FROM "patients"[0m
  ‚Ü≥ app/controllers/patients_controller.rb:7:in `index'
Completed 200 OK in 36ms (Views: 33.7ms | ActiveRecord: 2.5ms | Allocations: 14333)


Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:21:30 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"12345678"}
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 12345678], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 12ms (Views: 0.3ms | ActiveRecord: 2.5ms | Allocations: 4167)


Started GET "/patients/123456789" for 191.95.23.42 at 2024-09-09 09:21:33 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"123456789"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 123456789], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms | Allocations: 643)


Started GET "/patients/123456789" for 191.95.23.42 at 2024-09-09 09:21:44 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"123456789"}
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 123456789], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 3ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 615)


Started GET "/patients/123456789" for 191.95.23.42 at 2024-09-09 09:23:42 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"123456789"}
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 123456789], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 68ms (Views: 0.5ms | ActiveRecord: 2.9ms | Allocations: 12217)


Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:24:12 -0500
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"12345678"}
  [1m[36mPatient Load (0.1ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT ?[0m  [["id", 12345678], ["LIMIT", 1]]
  ‚Ü≥ app/controllers/patients_controller.rb:39:in `set_patient'
Filter chain halted as :set_patient rendered or redirected
Completed 404 Not Found in 2ms (Views: 0.3ms | ActiveRecord: 0.1ms | Allocations: 663)


Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:34:45 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
Zeitwerk::NameError (expected file /home/howard/tumejorsonrisa_backend/app/controllers/patients_controller.rb to define constant PatientsController, but didn't

      raise Zeitwerk::NameError.new(msg, cref.cname)
      ^^^^^):
  
zeitwerk (2.6.18) lib/zeitwerk/loader/callbacks.rb:32:in `on_file_autoloaded'
zeitwerk (2.6.18) lib/zeitwerk/kernel.rb:27:in `require'
activesupport (7.1.4) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (7.1.4) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (7.1.4) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.1.4) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.1.4) lib/action_dispatch/request/utils.rb:100:in `action_encoding_template'
actionpack (7.1.4) lib/action_dispatch/request/utils.rb:85:in `encode'
actionpack (7.1.4) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.1.4) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
activerecord (7.1.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.1.4) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/patients/123456789" for 191.95.23.42 at 2024-09-09 09:34:49 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:34:56 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/patients/1234567" for 191.95.23.42 at 2024-09-09 09:35:04 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:35:11 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:35:45 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/patients/123456789" for 191.95.23.42 at 2024-09-09 09:36:00 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:36:07 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/patients/1234567" for 191.95.23.42 at 2024-09-09 09:36:11 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/patients/123456" for 191.95.23.42 at 2024-09-09 09:36:15 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
  [1m[36mPatient Load (0.4ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."documento" = ? LIMIT ?[0m  [["documento", "12345678"], ["LIMIT", 1]]
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."documento" = ? LIMIT ?[0m  [["documento", "12345678"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDocumentoToPatients (20240909144055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apatients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar DEFAULT NULL, "apellido" varchar DEFAULT NULL, "fecha_nacimiento" date DEFAULT NULL, "tipo_documento" varchar DEFAULT NULL, "numero_documento" varchar DEFAULT NULL, "direccion" varchar DEFAULT NULL, "ciudad" varchar DEFAULT NULL, "telefono" varchar DEFAULT NULL, "estado_civil" varchar DEFAULT NULL, "sexo" varchar DEFAULT NULL, "raza" varchar DEFAULT NULL, "tipo_sangre" varchar DEFAULT NULL, "ocupacion" varchar DEFAULT NULL, "eps" varchar DEFAULT NULL, "alergias" varchar DEFAULT NULL, "cirugias" varchar DEFAULT NULL, "emergency_nombre" varchar DEFAULT NULL, "emergency_direccion" varchar DEFAULT NULL, "emergency_ciudad" varchar DEFAULT NULL, "emergency_telefono" varchar DEFAULT NULL, "emergency_relacion" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "apatients" ("id","nombre","apellido","fecha_nacimiento","tipo_documento","numero_documento","direccion","ciudad","telefono","estado_civil","sexo","raza","tipo_sangre","ocupacion","eps","alergias","cirugias","emergency_nombre","emergency_direccion","emergency_ciudad","emergency_telefono","emergency_relacion","created_at","updated_at")
                     SELECT "id","nombre","apellido","fecha_nacimiento","tipo_documento","numero_documento","direccion","ciudad","telefono","estado_civil","sexo","raza","tipo_sangre","ocupacion","eps","alergias","cirugias","emergency_nombre","emergency_direccion","emergency_ciudad","emergency_telefono","emergency_relacion","created_at","updated_at" FROM "patients"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "patients"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDocumentoToPatients (20240909144055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TEMPORARY TABLE "apatients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar DEFAULT NULL, "apellido" varchar DEFAULT NULL, "fecha_nacimiento" date DEFAULT NULL, "tipo_documento" varchar DEFAULT NULL, "numero_documento" varchar DEFAULT NULL, "direccion" varchar DEFAULT NULL, "ciudad" varchar DEFAULT NULL, "telefono" varchar DEFAULT NULL, "estado_civil" varchar DEFAULT NULL, "sexo" varchar DEFAULT NULL, "raza" varchar DEFAULT NULL, "tipo_sangre" varchar DEFAULT NULL, "ocupacion" varchar DEFAULT NULL, "eps" varchar DEFAULT NULL, "alergias" varchar DEFAULT NULL, "cirugias" varchar DEFAULT NULL, "emergency_nombre" varchar DEFAULT NULL, "emergency_direccion" varchar DEFAULT NULL, "emergency_ciudad" varchar DEFAULT NULL, "emergency_telefono" varchar DEFAULT NULL, "emergency_relacion" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "apatients" ("id","nombre","apellido","fecha_nacimiento","tipo_documento","numero_documento","direccion","ciudad","telefono","estado_civil","sexo","raza","tipo_sangre","ocupacion","eps","alergias","cirugias","emergency_nombre","emergency_direccion","emergency_ciudad","emergency_telefono","emergency_relacion","created_at","updated_at")
                     SELECT "id","nombre","apellido","fecha_nacimiento","tipo_documento","numero_documento","direccion","ciudad","telefono","estado_civil","sexo","raza","tipo_sangre","ocupacion","eps","alergias","cirugias","emergency_nombre","emergency_direccion","emergency_ciudad","emergency_telefono","emergency_relacion","created_at","updated_at" FROM "patients"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "patients"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "patients" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "nombre" varchar DEFAULT NULL, "apellido" varchar DEFAULT NULL, "fecha_nacimiento" date DEFAULT NULL, "tipo_documento" varchar DEFAULT NULL, "numero_documento" varchar DEFAULT NULL, "direccion" varchar DEFAULT NULL, "ciudad" varchar DEFAULT NULL, "telefono" varchar DEFAULT NULL, "estado_civil" varchar DEFAULT NULL, "sexo" varchar DEFAULT NULL, "raza" varchar DEFAULT NULL, "tipo_sangre" varchar DEFAULT NULL, "ocupacion" varchar DEFAULT NULL, "eps" varchar DEFAULT NULL, "alergias" varchar DEFAULT NULL, "cirugias" varchar DEFAULT NULL, "emergency_nombre" varchar DEFAULT NULL, "emergency_direccion" varchar DEFAULT NULL, "emergency_ciudad" varchar DEFAULT NULL, "emergency_telefono" varchar DEFAULT NULL, "emergency_relacion" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "documento" varchar NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "patients" ("id","nombre","apellido","fecha_nacimiento","tipo_documento","numero_documento","direccion","ciudad","telefono","estado_civil","sexo","raza","tipo_sangre","ocupacion","eps","alergias","cirugias","emergency_nombre","emergency_direccion","emergency_ciudad","emergency_telefono","emergency_relacion","created_at","updated_at")
                     SELECT "id","nombre","apellido","fecha_nacimiento","tipo_documento","numero_documento","direccion","ciudad","telefono","estado_civil","sexo","raza","tipo_sangre","ocupacion","eps","alergias","cirugias","emergency_nombre","emergency_direccion","emergency_ciudad","emergency_telefono","emergency_relacion","created_at","updated_at" FROM "apatients"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddDocumentoToPatients (20240909144055)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "patients" ADD "documento" varchar[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_patients_on_documento" ON "patients" ("documento")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240909144055') RETURNING "version"[0m
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mPatient Load (0.3ms)[0m  [1m[34mSELECT "patients".* FROM "patients" ORDER BY "patients"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Update (0.6ms)[0m  [1m[33mUPDATE "patients" SET "updated_at" = ?, "documento" = ? WHERE "patients"."id" = ?[0m  [["updated_at", "2024-09-09 14:46:58.503280"], ["documento", "valor_de_documento"], ["id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Update (0.9ms)[0m  [1m[33mUPDATE "patients" SET "updated_at" = ?, "documento" = ? WHERE "patients"."id" = ?[0m  [["updated_at", "2024-09-09 14:46:58.508202"], ["documento", "valor_de_documento"], ["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mPatient Load (0.2ms)[0m  [1m[34mSELECT "patients".* FROM "patients" ORDER BY "patients"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Update (1.0ms)[0m  [1m[33mUPDATE "patients" SET "updated_at" = ?, "documento" = ? WHERE "patients"."id" = ?[0m  [["updated_at", "2024-09-09 14:48:40.386351"], ["documento", "DOC000001"], ["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mPatient Update (0.5ms)[0m  [1m[33mUPDATE "patients" SET "updated_at" = ?, "documento" = ? WHERE "patients"."id" = ?[0m  [["updated_at", "2024-09-09 14:48:40.389846"], ["documento", "DOC000002"], ["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mPatient Load (0.7ms)[0m  [1m[34mSELECT "patients".* FROM "patients" WHERE "patients"."documento" = ? LIMIT ?[0m  [["documento", "DOC000001"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:53:57 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
Zeitwerk::NameError (expected file /home/howard/tumejorsonrisa_backend/app/controllers/patients_controller.rb to define constant PatientsController, but didn't

      raise Zeitwerk::NameError.new(msg, cref.cname)
      ^^^^^):
  
zeitwerk (2.6.18) lib/zeitwerk/loader/callbacks.rb:32:in `on_file_autoloaded'
zeitwerk (2.6.18) lib/zeitwerk/kernel.rb:27:in `require'
activesupport (7.1.4) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (7.1.4) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (7.1.4) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.1.4) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.1.4) lib/action_dispatch/request/utils.rb:100:in `action_encoding_template'
actionpack (7.1.4) lib/action_dispatch/request/utils.rb:85:in `encode'
actionpack (7.1.4) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.1.4) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
activerecord (7.1.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.1.4) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:55:14 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:55:50 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 09:59:55 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
Zeitwerk::NameError (expected file /home/howard/tumejorsonrisa_backend/app/controllers/patients_controller.rb to define constant PatientsController, but didn't

      raise Zeitwerk::NameError.new(msg, cref.cname)
      ^^^^^):
  
zeitwerk (2.6.18) lib/zeitwerk/loader/callbacks.rb:32:in `on_file_autoloaded'
zeitwerk (2.6.18) lib/zeitwerk/kernel.rb:27:in `require'
activesupport (7.1.4) lib/active_support/inflector/methods.rb:290:in `const_get'
activesupport (7.1.4) lib/active_support/inflector/methods.rb:290:in `constantize'
activesupport (7.1.4) lib/active_support/core_ext/string/inflections.rb:74:in `constantize'
actionpack (7.1.4) lib/action_dispatch/http/request.rb:90:in `controller_class_for'
actionpack (7.1.4) lib/action_dispatch/request/utils.rb:100:in `action_encoding_template'
actionpack (7.1.4) lib/action_dispatch/request/utils.rb:85:in `encode'
actionpack (7.1.4) lib/action_dispatch/request/utils.rb:45:in `set_binary_encoding'
actionpack (7.1.4) lib/action_dispatch/http/parameters.rb:68:in `path_parameters='
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:48:in `block in serve'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:131:in `block in find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `each'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:124:in `find_routes'
actionpack (7.1.4) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (7.1.4) lib/action_dispatch/routing/route_set.rb:882:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
activerecord (7.1.4) lib/active_record/migration.rb:655:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
activesupport (7.1.4) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.1.4) lib/action_dispatch/middleware/callbacks.rb:28:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (7.1.4) lib/rails/rack/logger.rb:37:in `call_app'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `block in tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:39:in `tagged'
activesupport (7.1.4) lib/active_support/tagged_logging.rb:139:in `tagged'
activesupport (7.1.4) lib/active_support/broadcast_logger.rb:241:in `method_missing'
railties (7.1.4) lib/rails/rack/logger.rb:24:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/request_id.rb:28:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:59:in `block in call'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:24:in `collect_events'
actionpack (7.1.4) lib/action_dispatch/middleware/server_timing.rb:58:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.1.4) lib/action_dispatch/middleware/static.rb:25:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.1.4) lib/rails/engine.rb:536:in `call'
puma (6.4.2) lib/puma/configuration.rb:272:in `call'
puma (6.4.2) lib/puma/request.rb:100:in `block in handle_request'
puma (6.4.2) lib/puma/thread_pool.rb:378:in `with_force_shutdown'
puma (6.4.2) lib/puma/request.rb:99:in `handle_request'
puma (6.4.2) lib/puma/server.rb:464:in `process_client'
puma (6.4.2) lib/puma/server.rb:245:in `block in run'
puma (6.4.2) lib/puma/thread_pool.rb:155:in `block in spawn_thread'
Started GET "/patients/12345678" for 191.95.23.42 at 2024-09-09 10:06:20 -0500
  
ActionController::RoutingError (uninitialized constant PatientsController

      Object.const_get(camel_cased_word)
            ^^^^^^^^^^

            raise MissingController.new(error.message, error.name)
            ^^^^^):
  
